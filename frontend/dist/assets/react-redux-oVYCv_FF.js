import{r as o}from"./react-BmnrCYYH.js";import"./use-sync-external-store-CdU9EFI4.js";function w(t){t()}function E(){let t=null,n=null;return{clear(){t=null,n=null},notify(){w(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=t;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const e=n={callback:r,next:null,prev:n};return e.prev?e.prev.next=e:t=e,function(){!s||t===null||(s=!1,e.next?e.next.prev=e.prev:n=e.prev,e.prev?e.prev.next=e.next:t=e.next)}}}}var S={notify(){},get:()=>[]};function N(t,n){let r,s=S,e=0,u=!1;function c(C){d();const m=s.subscribe(C);let y=!1;return()=>{y||(y=!0,m(),v())}}function a(){s.notify()}function i(){l.onStateChange&&l.onStateChange()}function p(){return u}function d(){e++,r||(r=t.subscribe(i),s=E())}function v(){e--,r&&e===0&&(r(),r=void 0,s.clear(),s=S)}function g(){u||(u=!0,d())}function h(){u&&(u=!1,v())}const l={addNestedSub:c,notifyNestedSubs:a,handleChangeWrapper:i,isSubscribed:p,trySubscribe:g,tryUnsubscribe:h,getListeners:()=>s};return l}var L=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M=L(),O=()=>typeof navigator<"u"&&navigator.product==="ReactNative",R=O(),U=()=>M||R?o.useLayoutEffect:o.useEffect,k=U();function x(t,n){return t===n?t!==0||n!==0||1/t===1/n:t!==t&&n!==n}function T(t,n){if(x(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;const r=Object.keys(t),s=Object.keys(n);if(r.length!==s.length)return!1;for(let e=0;e<r.length;e++)if(!Object.prototype.hasOwnProperty.call(n,r[e])||!x(t[r[e]],n[r[e]]))return!1;return!0}var f=Symbol.for("react-redux-context"),b=typeof globalThis<"u"?globalThis:{};function P(){if(!o.createContext)return{};const t=b[f]??(b[f]=new Map);let n=t.get(o.createContext);return n||(n=o.createContext(null),t.set(o.createContext,n)),n}var I=P();function V(t){const{children:n,context:r,serverState:s,store:e}=t,u=o.useMemo(()=>{const i=N(e);return{store:e,subscription:i,getServerState:s?()=>s:void 0}},[e,s]),c=o.useMemo(()=>e.getState(),[e]);k(()=>{const{subscription:i}=u;return i.onStateChange=i.notifyNestedSubs,i.trySubscribe(),c!==e.getState()&&i.notifyNestedSubs(),()=>{i.tryUnsubscribe(),i.onStateChange=void 0}},[u,c]);const a=r||I;return o.createElement(a.Provider,{value:u},n)}var W=V;export{W as P,T as s};
